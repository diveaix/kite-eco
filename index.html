<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Kite AI Ecosystem</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: #000000;
      color: white;
      overflow: hidden;
      height: 100vh;
      position: relative;
    }

    /* Animated Background */
    #bgCanvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
    }

    .gradient-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        radial-gradient(circle at 20% 50%, rgba(120, 119, 198, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 80% 80%, rgba(138, 43, 226, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 40% 20%, rgba(0, 191, 255, 0.1) 0%, transparent 50%);
      z-index: 1;
      pointer-events: none;
    }

    .grid-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        linear-gradient(rgba(120, 119, 198, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(120, 119, 198, 0.03) 1px, transparent 1px);
      background-size: 50px 50px;
      z-index: 1;
      pointer-events: none;
    }

    #canvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 2;
    }

    /* Header */
    .header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 100;
      background: rgba(0, 0, 0, 0.4);
      backdrop-filter: blur(20px) saturate(180%);
      border-bottom: 1px solid rgba(255, 255, 255, 0.05);
      padding: 20px 40px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .header-left {
      display: flex;
      align-items: center;
      gap: 20px;
    }

    .header-logo {
      width: 140px;
      height: auto;
      transition: transform 0.3s ease;
    }

    .header-logo:hover {
      transform: scale(1.05);
    }

    .header-title {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .header-title h1 {
      font-size: 24px;
      font-weight: 700;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
      background-clip: text;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      letter-spacing: -0.5px;
    }

    .header-title p {
      font-size: 12px;
      color: rgba(255, 255, 255, 0.5);
      font-weight: 400;
      letter-spacing: 0.5px;
      text-transform: uppercase;
    }

    .header-stats {
      display: flex;
      gap: 30px;
      align-items: center;
    }

    .stat-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
    }

    .stat-value {
      font-size: 20px;
      font-weight: 700;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      background-clip: text;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .stat-label {
      font-size: 10px;
      color: rgba(255, 255, 255, 0.4);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    /* Controls Panel */
    .controls-panel {
      position: fixed;
      right: 30px;
      top: 120px;
      z-index: 100;
      background: rgba(0, 0, 0, 0.6);
      backdrop-filter: blur(20px) saturate(180%);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 20px;
      padding: 20px;
      display: flex;
      flex-direction: column;
      gap: 12px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    }

    .control-btn {
      background: linear-gradient(135deg, rgba(102, 126, 234, 0.2) 0%, rgba(118, 75, 162, 0.2) 100%);
      border: 1px solid rgba(102, 126, 234, 0.3);
      color: white;
      padding: 12px 20px;
      border-radius: 12px;
      cursor: pointer;
      font-size: 13px;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
    }

    .control-btn:hover {
      background: linear-gradient(135deg, rgba(102, 126, 234, 0.4) 0%, rgba(118, 75, 162, 0.4) 100%);
      border-color: rgba(102, 126, 234, 0.6);
      transform: translateY(-2px);
      box-shadow: 0 4px 20px rgba(102, 126, 234, 0.3);
    }

    .control-btn:active {
      transform: translateY(0);
    }

    /* Legend */
    .legend {
      position: fixed;
      right: 30px;
      bottom: 30px;
      z-index: 100;
      background: rgba(0, 0, 0, 0.6);
      backdrop-filter: blur(20px) saturate(180%);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 20px;
      padding: 20px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    }

    .legend-title {
      font-size: 12px;
      font-weight: 600;
      color: rgba(255, 255, 255, 0.6);
      margin-bottom: 12px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .legend-item {
      display: flex;
      align-items: center;
      gap: 12px;
      margin: 10px 0;
      font-size: 13px;
      color: rgba(255, 255, 255, 0.8);
      transition: all 0.2s ease;
      cursor: pointer;
    }

    .legend-item:hover {
      color: white;
      transform: translateX(3px);
    }

    .legend-dot {
      width: 14px;
      height: 14px;
      border-radius: 50%;
      box-shadow: 0 0 10px currentColor;
      transition: all 0.3s ease;
    }

    .legend-item:hover .legend-dot {
      transform: scale(1.2);
      box-shadow: 0 0 15px currentColor;
    }

    /* Info Panel */
    .info-panel {
      position: fixed;
      left: 30px;
      bottom: 30px;
      z-index: 100;
      background: rgba(0, 0, 0, 0.6);
      backdrop-filter: blur(20px) saturate(180%);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 20px;
      padding: 20px;
      max-width: 300px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    }

    .info-title {
      font-size: 12px;
      font-weight: 600;
      color: rgba(255, 255, 255, 0.6);
      margin-bottom: 12px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .info-text {
      font-size: 13px;
      line-height: 1.6;
      color: rgba(255, 255, 255, 0.7);
    }

    .status-indicator {
      display: inline-block;
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: #43e97b;
      box-shadow: 0 0 10px #43e97b;
      animation: pulse 2s infinite;
      margin-right: 8px;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    /* Modal */
    .modal-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(10px);
      z-index: 200;
      animation: fadeIn 0.3s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .modal {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(10, 10, 30, 0.95);
      backdrop-filter: blur(40px) saturate(180%);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 24px;
      padding: 40px;
      max-width: 600px;
      width: 90%;
      z-index: 201;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
      animation: modalSlideIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }

    @keyframes modalSlideIn {
      from {
        opacity: 0;
        transform: translate(-50%, -45%);
      }
      to {
        opacity: 1;
        transform: translate(-50%, -50%);
      }
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 24px;
      padding-bottom: 20px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .modal-icon {
      width: 60px;
      height: 60px;
      border-radius: 16px;
      object-fit: cover;
      border: 2px solid rgba(102, 126, 234, 0.3);
      margin-right: 20px;
      box-shadow: 0 4px 20px rgba(102, 126, 234, 0.2);
    }

    .modal-header-content {
      flex: 1;
    }

    .modal h2 {
      font-size: 32px;
      font-weight: 700;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
      background-clip: text;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 8px;
      letter-spacing: -0.5px;
    }

    .modal-category {
      font-size: 12px;
      color: rgba(255, 255, 255, 0.5);
      text-transform: uppercase;
      letter-spacing: 1px;
      font-weight: 600;
    }

    .modal-close {
      font-size: 32px;
      cursor: pointer;
      color: rgba(255, 255, 255, 0.4);
      transition: all 0.2s ease;
      background: none;
      border: none;
      padding: 0;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
    }

    .modal-close:hover {
      color: white;
      background: rgba(255, 255, 255, 0.1);
      transform: rotate(90deg);
    }

    .modal-description {
      color: rgba(255, 255, 255, 0.8);
      line-height: 1.8;
      margin-bottom: 30px;
      font-size: 15px;
      font-weight: 400;
    }

    .modal-link {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      text-decoration: none;
      padding: 14px 28px;
      border-radius: 12px;
      transition: all 0.3s ease;
      font-weight: 600;
      font-size: 14px;
      box-shadow: 0 4px 20px rgba(102, 126, 234, 0.3);
    }

    .modal-link:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 30px rgba(102, 126, 234, 0.5);
    }

    .modal-link::after {
      content: '‚Üí';
      font-size: 18px;
      transition: transform 0.3s ease;
    }

    .modal-link:hover::after {
      transform: translateX(4px);
    }

    /* Loading Screen */
    .loading-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #000000;
      z-index: 300;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 30px;
    }

    .loading-logo {
      width: 180px;
      height: auto;
      animation: float 3s ease-in-out infinite;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-20px); }
    }

    .loading-spinner {
      width: 60px;
      height: 60px;
      border: 3px solid rgba(102, 126, 234, 0.2);
      border-top: 3px solid #667eea;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .loading-text {
      font-size: 16px;
      color: rgba(255, 255, 255, 0.6);
      font-weight: 500;
      letter-spacing: 1px;
    }

    /* Tooltip */
    .tooltip {
      position: fixed;
      background: rgba(0, 0, 0, 0.9);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      color: white;
      padding: 8px 12px;
      border-radius: 8px;
      font-size: 12px;
      pointer-events: none;
      z-index: 150;
      opacity: 0;
      transition: opacity 0.2s ease;
      white-space: nowrap;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
    }

    /* Responsive */
    @media (max-width: 768px) {
      .header {
        padding: 15px 20px;
        flex-direction: column;
        gap: 15px;
      }

      .header-logo {
        width: 100px;
      }

      .header-title h1 {
        font-size: 18px;
      }

      .header-stats {
        gap: 15px;
      }

      .stat-value {
        font-size: 16px;
      }

      .controls-panel {
        right: 15px;
        top: auto;
        bottom: 120px;
      }

      .legend {
        right: 15px;
        bottom: 15px;
        left: 15px;
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
      }

      .legend-item {
        flex: 1;
        min-width: 45%;
      }

      .info-panel {
        left: 15px;
        bottom: 180px;
        right: 15px;
        max-width: none;
      }

      .modal {
        padding: 30px 20px;
        width: 95%;
      }

      .modal h2 {
        font-size: 24px;
      }
    }
  </style>
</head>
<body>
  <!-- Animated Background -->
  <canvas id="bgCanvas"></canvas>
  <div class="gradient-overlay"></div>
  <div class="grid-overlay"></div>

  <!-- Main Canvas -->
  <canvas id="canvas"></canvas>

  <!-- Loading Screen -->
  <div class="loading-screen" id="loadingScreen">
    <img src="assets/kite-logo-dark.webp" alt="Kite AI" class="loading-logo">
    <div class="loading-spinner"></div>
    <div class="loading-text">INITIALIZING NEURAL NETWORK...</div>
  </div>

  <!-- Header -->
  <div class="header">
    <div class="header-left">
      <img src="assets/kite-logo-dark.webp" alt="Kite AI" class="header-logo">
      <div class="header-title">
        <h1>Kite AI Ecosystem</h1>
      </div>
    </div>
    <div class="header-stats">
      <div class="stat-item">
        <div class="stat-value" id="projectCount">0</div>
        <div class="stat-label">Projects</div>
      </div>
      <div class="stat-item">
        <div class="stat-value" id="connectionCount">0</div>
        <div class="stat-label">Connections</div>
      </div>
      <div class="stat-item">
        <div class="stat-value">99.9%</div>
        <div class="stat-label">Uptime</div>
      </div>
    </div>
  </div>

  <!-- Controls Panel -->
  <div class="controls-panel">
    <button class="control-btn" onclick="toggleAnimation()">
      <span id="playIcon">‚è∏</span> <span id="playText">Pause</span>
    </button>
    <button class="control-btn" onclick="resetView()">
      üîÑ Reset View
    </button>
    <button class="control-btn" onclick="toggleConnections()">
      üîó Toggle Links
    </button>
  </div>

  <!-- Legend -->
  <div class="legend">
    <div class="legend-title">Categories</div>
    <div class="legend-item" data-category="core">
      <div class="legend-dot" style="background: #667eea;"></div>
      <span>Core Hub</span>
    </div>
    <div class="legend-item" data-category="ai">
      <div class="legend-dot" style="background: #f093fb;"></div>
      <span>AI & Machine Learning</span>
    </div>
    <div class="legend-item" data-category="infra">
      <div class="legend-dot" style="background: #4facfe;"></div>
      <span>Infrastructure</span>
    </div>
    <div class="legend-item" data-category="defi">
      <div class="legend-dot" style="background: #43e97b;"></div>
      <span>DeFi & Web3</span>
    </div>
  </div>

  <!-- Info Panel -->
  <div class="info-panel">
    <div class="info-title">Network Status</div>
    <div class="info-text">
      <span class="status-indicator"></span>
      Network Active<br>
      <small style="margin-left: 16px; opacity: 0.6;">Click any node to explore</small>
    </div>
  </div>

  <!-- Modal -->
  <div class="modal-overlay" id="modalOverlay" onclick="closeModal()">
    <div class="modal" onclick="event.stopPropagation()">
      <div class="modal-header">
        <img id="modalIcon" class="modal-icon" src="" alt="">
        <div class="modal-header-content">
          <h2 id="modalTitle">Title</h2>
          <div class="modal-category" id="modalCategory">Category</div>
        </div>
        <button class="modal-close" onclick="closeModal()">√ó</button>
      </div>
      <p class="modal-description" id="modalDescription">Description</p>
      <a href="#" id="modalLink" target="_blank" class="modal-link">Visit Website</a>
    </div>
  </div>

  <!-- Tooltip -->
  <div class="tooltip" id="tooltip"></div>

  <script>
    // Background Animation
    const bgCanvas = document.getElementById('bgCanvas');
    const bgCtx = bgCanvas.getContext('2d');
    bgCanvas.width = window.innerWidth;
    bgCanvas.height = window.innerHeight;

    class BackgroundParticle {
      constructor() {
        this.x = Math.random() * bgCanvas.width;
        this.y = Math.random() * bgCanvas.height;
        this.vx = (Math.random() - 0.5) * 0.5;
        this.vy = (Math.random() - 0.5) * 0.5;
        this.radius = Math.random() * 2 + 1;
        this.opacity = Math.random() * 0.5 + 0.2;
      }

      update() {
        this.x += this.vx;
        this.y += this.vy;

        if (this.x < 0 || this.x > bgCanvas.width) this.vx *= -1;
        if (this.y < 0 || this.y > bgCanvas.height) this.vy *= -1;
      }

      draw() {
        bgCtx.beginPath();
        bgCtx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
        bgCtx.fillStyle = `rgba(102, 126, 234, ${this.opacity})`;
        bgCtx.fill();
      }
    }

    const bgParticles = Array.from({ length: 100 }, () => new BackgroundParticle());

    function animateBackground() {
      bgCtx.fillStyle = 'rgba(0, 0, 0, 0.05)';
      bgCtx.fillRect(0, 0, bgCanvas.width, bgCanvas.height);

      bgParticles.forEach(p => {
        p.update();
        p.draw();
      });

      // Draw connections between close particles
      bgParticles.forEach((p1, i) => {
        bgParticles.slice(i + 1).forEach(p2 => {
          const dx = p1.x - p2.x;
          const dy = p1.y - p2.y;
          const dist = Math.sqrt(dx * dx + dy * dy);

          if (dist < 150) {
            bgCtx.beginPath();
            bgCtx.moveTo(p1.x, p1.y);
            bgCtx.lineTo(p2.x, p2.y);
            bgCtx.strokeStyle = `rgba(102, 126, 234, ${0.15 * (1 - dist / 150)})`;
            bgCtx.lineWidth = 0.5;
            bgCtx.stroke();
          }
        });
      });

      requestAnimationFrame(animateBackground);
    }

    animateBackground();

    window.addEventListener('resize', () => {
      bgCanvas.width = window.innerWidth;
      bgCanvas.height = window.innerHeight;
    });

    // Main Network Visualization
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    let width = canvas.width = window.innerWidth;
    let height = canvas.height = window.innerHeight;

    window.addEventListener('resize', () => {
      width = canvas.width = window.innerWidth;
      height = canvas.height = window.innerHeight;
      initNodes();
    });

    const logos = [
      "kite ai.jpg", "quicknode.webp", "prime intellect.webp", "alchemy.webp", "stargate.webp",
      "orochi.webp", "camp.webp", "D3.webp", "allora.webp", "carv.webp", "dune.webp", "okx.webp",
      "pi2.webp", "magic.webp", "metamask.webp", "particle.webp", "huma.webp", "primus.webp",
      "gradient.webp", "openmind.webp", "gaia.webp", "gaib.webp", "virtuals.webp", "theoriq.webp",
      "exaits.webp", "open gradient.webp", "flockio.webp", "phala.webp", "hyperbolic.webp",
      "vana.webp", "story.webp", "pond.webp", "sentient.webp", "0g.webp", "privy.webp",
      "solayer.webp", "eigenlayer.webp", "filecoin.webp", "aethir.webp", "space & time.webp",
      "layerzero.webp", "chainlink.webp", "animoca.webp", "google cloud.webp", "claude.webp",
      "shopify.webp", "masa.webp", "irys.webp"
    ];

    const infoData = {
      "kite ai": { title: "Kite AI", description: "Kite AI is the first blockchain for agentic payments, providing foundational infrastructure where autonomous AI agents operate with verifiable identity and programmable governance, with native stablecoin payment access.", link: "https://gokite.ai", category: "Core Hub" },
      "quicknode": { title: "QuickNode", description: "QuickNode is a leading Web3 infrastructure platform providing high-performance multi-chain RPC access to 70+ blockchains and 100+ networks. Trusted by top projects for reliable, scalable blockchain development.", link: "https://www.quicknode.com", category: "Infrastructure" },
      "prime intellect": { title: "Prime Intellect", description: "Prime Intellect is building a peer-to-peer compute and intelligence network that democratizes AI development at scale. Their protocol enables decentralized training of frontier AI models through global GPU aggregation.", link: "https://www.primeintellect.ai", category: "AI & Machine Learning" },
      "alchemy": { title: "Alchemy", description: "Alchemy offers a complete rollup-as-a-service platform. Their rollups can adopt ZK proofs through OP Succinct.", link: "https://www.alchemy.com/", category: "Infrastructure" },
      "stargate": { title: "Stargate", description: "Stargate is a fully composable native asset bridge built on LayerZero. It enables seamless cross-chain liquidity transfers with instant guaranteed finality, solving the bridging trilemma with unified liquidity pools.", link: "https://stargate.finance", category: "DeFi & Web3" },
      "orochi": { title: "Orochi Network", description: "Orochi Network is the world's first verifiable data infrastructure, leveraging Zero-Knowledge Proofs to provide secure, verifiable data for blockchain networks, AI applications, and decentralized oracles.", link: "https://orochi.network", category: "Infrastructure" },
      "camp": { title: "Camp Network", description: "Camp Network is building infrastructure for consumer-focused blockchain applications, providing tools and frameworks for developers to create engaging Web3 experiences with seamless onboarding.", link: "https://camp.network", category: "Infrastructure" },
      "D3": { title: "D3", description: "D3 is creating decentralized data infrastructure for Web3, enabling efficient data management and processing across blockchain networks with focus on scalability and interoperability.", link: "https://d3.xyz", category: "Infrastructure" },
      "allora": { title: "Allora Network", description: "Allora is building a self-improving decentralized AI network that crowdsources intelligence from machine learning models. The network combines predictions to generate superior insights for Web3 applications.", link: "https://www.allora.network", category: "AI & Machine Learning" },
      "carv": { title: "CARV", description: "CARV is the largest modular data layer in gaming and AI, empowering individuals to own, control, and verify their data while enabling businesses to access privacy-preserving data for growth.", link: "https://carv.io", category: "DeFi & Web3" },
      "dune": { title: "Dune Analytics", description: "Dune is the leading blockchain analytics platform that provides powerful querying and visualization tools for on-chain data. It enables the crypto community to explore and analyze blockchain data collaboratively.", link: "https://dune.com", category: "Infrastructure" },
      "okx": { title: "OKX", description: "OKX is a leading global crypto exchange and Web3 technology company, providing innovative products including trading, wallet services, NFT marketplace, and blockchain infrastructure solutions.", link: "https://www.okx.com", category: "DeFi & Web3" },
      "pi2": { title: "Pi Squared", description: "Pi Squared is building universal ZK circuits that enable trustless verification across different blockchain ecosystems, advancing interoperability and security in decentralized systems.", link: "https://pisquared.network", category: "Infrastructure" },
      "magic": { title: "Magic", description: "Magic provides passwordless authentication for Web3, enabling users to access blockchain applications using familiar login methods while maintaining security through distributed key management.", link: "https://magic.link", category: "DeFi & Web3" },
      "metamask": { title: "MetaMask", description: "MetaMask is the leading self-custodial wallet trusted by millions, providing secure access to blockchain applications and digital assets. It enables users to explore the decentralized web with confidence.", link: "https://metamask.io", category: "DeFi & Web3" },
      "particle": { title: "Particle Network", description: "Particle Network is building the chain abstraction layer for Web3, unifying accounts and balances across all chains through a universal account system powered by decentralized nodes.", link: "https://particle.network", category: "Infrastructure" },
      "huma": { title: "Huma Finance", description: "Huma Finance is a decentralized protocol for next-gen PayFi, enabling real-world asset financing and credit infrastructure on-chain with innovative risk management and payment solutions.", link: "https://huma.finance", category: "DeFi & Web3" },
      "primus": { title: "Primus", description: "Primus is developing decentralized infrastructure for autonomous systems, focusing on trustless coordination and verification for next-generation blockchain applications.", link: "https://primus.network", category: "Infrastructure" },
      "gradient": { title: "Gradient Network", description: "Gradient is building a decentralized AI infrastructure network that enables anyone to contribute compute resources and participate in training and inference of AI models.", link: "https://gradient.network", category: "AI & Machine Learning" },
      "openmind": { title: "OpenMind", description: "OpenMind is creating decentralized AI infrastructure that democratizes access to machine learning capabilities, enabling collaborative model development and deployment across distributed networks.", link: "https://openmind.ai", category: "AI & Machine Learning" },
      "gaia": { title: "Gaia", description: "Gaia is building decentralized data infrastructure for Web3, providing secure storage and retrieval solutions that prioritize privacy, accessibility, and user sovereignty.", link: "https://gaia.network", category: "Infrastructure" },
      "gaib": { title: "GAIB", description: "GAIB is developing blockchain-based AI solutions that combine artificial intelligence with decentralized infrastructure to create intelligent, autonomous systems for the Web3 ecosystem.", link: "https://gaib.ai", category: "AI & Machine Learning" },
      "virtuals": { title: "Virtuals Protocol", description: "Virtuals Protocol is pioneering the co-ownership economy for AI agents, enabling anyone to create, train, and monetize AI personalities that can interact across virtual worlds and applications.", link: "https://virtuals.io", category: "AI & Machine Learning" },
      "theoriq": { title: "Theoriq", description: "Theoriq is building a composable AI agent protocol that enables developers to create, deploy, and monetize intelligent agents that can collaborate and execute complex tasks across Web3.", link: "https://theoriq.ai", category: "AI & Machine Learning" },
      "exaits": { title: "Exaits", description: "Exaits provides enterprise-grade blockchain solutions and infrastructure, focusing on scalability, security, and seamless integration for businesses transitioning to Web3.", link: "https://exaits.com", category: "DeFi & Web3" },
      "open gradient": { title: "Open Gradient", description: "Open Gradient is developing open-source AI infrastructure that enables decentralized machine learning and model training across distributed networks with transparency and accessibility.", link: "https://opengradient.ai", category: "AI & Machine Learning" },
      "flockio": { title: "Flock.io", description: "Flock.io is building a decentralized AI training platform that enables collaborative model development while preserving data privacy through federated learning and blockchain technology.", link: "https://flock.io", category: "AI & Machine Learning" },
      "phala": { title: "Phala Network", description: "Phala is pioneering the future of verifiable AI agents. They use OP Succinct to prove their mainnet blocks.", link: "https://phala.network/", category: "AI & Machine Learning" },
      "hyperbolic": { title: "Hyperbolic", description: "Hyperbolic is building open-access AI infrastructure that provides decentralized compute, training, and inference capabilities, making AI more accessible and verifiable for developers worldwide.", link: "https://hyperbolic.xyz", category: "AI & Machine Learning" },
      "vana": { title: "Vana", description: "Vana is creating a user-owned data network where individuals can collectively own, govern, and earn from the AI models trained on their data, pioneering data dignity in the AI age.", link: "https://vana.org", category: "AI & Machine Learning" },
      "story": { title: "Story Protocol", description: "Story Protocol is building the world's IP blockchain, providing programmable infrastructure for managing creative intellectual property with on-chain licensing, royalties, and provenance tracking.", link: "https://storyprotocol.xyz", category: "DeFi & Web3" },
      "pond": { title: "Pond", description: "Pond is developing decentralized coordination infrastructure for Web3 communities, enabling efficient governance, communication, and collaboration across distributed networks.", link: "https://pond.network", category: "Infrastructure" },
      "sentient": { title: "Sentient", description: "Sentient is building open AGI infrastructure that enables collaborative development of artificial general intelligence through decentralized compute and aligned incentive structures.", link: "https://sentient.foundation", category: "AI & Machine Learning" },
      "0g": { title: "0G", description: "0G is the first modular AI blockchain with infinitely scalable programmable data availability, enabling next-generation on-chain AI applications with massive data throughput.", link: "https://0g.ai", category: "AI & Machine Learning" },
      "privy": { title: "Privy", description: "Privy provides simple onboarding for Web3 apps through embedded wallets and authentication, making it easy for developers to bring mainstream users into decentralized applications.", link: "https://privy.io", category: "DeFi & Web3" },
      "solayer": { title: "Solayer", description: "Solayer is building the restaking layer for Solana, enabling users to leverage their SOL and liquid staking tokens to secure decentralized services while earning additional rewards.", link: "https://solayer.org", category: "DeFi & Web3" },
      "eigenlayer": { title: "EigenLayer", description: "EigenLayer is powering infinite scalability for blockchains. They offer a DA option for rollups on OP Succinct.", link: "https://www.eigenlayer.xyz/", category: "Infrastructure" },
      "filecoin": { title: "Filecoin", description: "Filecoin is a decentralized storage network that turns cloud storage into an algorithmic market, enabling anyone to store and retrieve data with cryptographic proofs of storage integrity.", link: "https://filecoin.io", category: "Infrastructure" },
      "aethir": { title: "Aethir", description: "Aethir is building decentralized cloud infrastructure for AI and gaming, providing scalable GPU compute through a distributed network of enterprise-grade hardware.", link: "https://aethir.com", category: "Infrastructure" },
      "space & time": { title: "Space and Time", description: "Space and Time is building a verifiable compute layer that connects on-chain and off-chain data, enabling developers to build data-intensive applications with cryptographic guarantees.", link: "https://spaceandtime.io", category: "Infrastructure" },
      "layerzero": { title: "LayerZero", description: "LayerZero is an omnichain interoperability protocol that enables seamless message passing and asset transfers across 70+ blockchains with trustless, censorship-resistant delivery.", link: "https://layerzero.network", category: "Infrastructure" },
      "chainlink": { title: "Chainlink", description: "Chainlink is the industry-standard Web3 services platform connecting smart contracts to real-world data, events, and payments. It powers hybrid smart contracts across multiple blockchains.", link: "https://chain.link", category: "Infrastructure" },
      "animoca": { title: "Animoca Brands", description: "Animoca Brands is a leader in digital entertainment and blockchain gaming, building the open metaverse through investments, partnerships, and development of play-to-earn games and NFT platforms.", link: "https://www.animocabrands.com", category: "DeFi & Web3" },
      "google cloud": { title: "Google Cloud", description: "Google Cloud provides enterprise blockchain solutions and Web3 infrastructure, offering validators, node hosting, and development tools for building scalable decentralized applications.", link: "https://cloud.google.com/web3", category: "Infrastructure" },
      "claude": { title: "Claude (Anthropic)", description: "Claude is an AI assistant by Anthropic focused on being helpful, harmless, and honest. It supports developers and researchers in building advanced AI applications with safety-focused capabilities.", link: "https://www.anthropic.com", category: "AI & Machine Learning" },
      "shopify": { title: "Shopify", description: "Shopify enables commerce through NFTs and Web3 integrations, allowing merchants to sell digital collectibles and engage with blockchain-based communities directly from their storefronts.", link: "https://www.shopify.com", category: "DeFi & Web3" },
      "masa": { title: "Masa", description: "Masa is building the decentralized AI data network, enabling users to contribute data for AI training while maintaining privacy and earning rewards in a permissionless marketplace.", link: "https://masa.ai", category: "AI & Machine Learning" },
      "irys": { title: "Irys", description: "Irys (formerly Bundlr) is the programmable datachain that provides fast, scalable, and permanent data storage for blockchain applications with guaranteed data availability.", link: "https://irys.xyz", category: "Infrastructure" }
    };

    const aiProjects = ['prime intellect', 'allora', 'gradient', 'openmind', 'gaib', 'virtuals', 'theoriq', 'open gradient', 'flockio', 'phala', 'hyperbolic', 'vana', 'sentient', '0g', 'masa', 'claude'];
    const infraProjects = ['quicknode', 'alchemy', 'stargate', 'orochi', 'camp', 'D3', 'particle', 'layerzero', 'chainlink', 'filecoin', 'aethir', 'space & time', 'google cloud', 'irys', 'dune', 'pi2', 'primus', 'gaia', 'pond', 'eigenlayer'];
    const defiProjects = ['carv', 'okx', 'magic', 'metamask', 'huma', 'story', 'privy', 'solayer', 'animoca', 'shopify', 'exaits'];

    function getNodeColor(id) {
      if (id === 'kite ai') return '#667eea';
      if (aiProjects.includes(id)) return '#f093fb';
      if (infraProjects.includes(id)) return '#4facfe';
      if (defiProjects.includes(id)) return '#43e97b';
      return '#ffffff';
    }

    class Node {
      constructor(id, x, y) {
        this.id = id;
        this.x = x;
        this.y = y;
        this.targetX = x;
        this.targetY = y;
        this.baseX = x;
        this.baseY = y;
        this.vx = 0;
        this.vy = 0;
        this.radius = id === 'kite ai' ? 60 : 35;
        this.color = getNodeColor(id);
        this.connections = [];
        this.hovered = false;
        this.pulsePhase = Math.random() * Math.PI * 2;
        this.orbitAngle = Math.random() * Math.PI * 2;
        
        this.img = new Image();
        this.img.src = `assets/${logos.find(l => l.startsWith(id))}`;
      }

      update() {
        if (animating) {
          this.orbitAngle += 0.002;
          const orbitRadius = this.id === 'kite ai' ? 0 : 15;
          this.targetX = this.baseX + Math.cos(this.orbitAngle) * orbitRadius;
          this.targetY = this.baseY + Math.sin(this.orbitAngle) * orbitRadius;
        }

        const dx = this.targetX - this.x;
        const dy = this.targetY - this.y;
        this.vx += dx * 0.03;
        this.vy += dy * 0.03;
        this.vx *= 0.85;
        this.vy *= 0.85;
        this.x += this.vx;
        this.y += this.vy;

        this.pulsePhase += 0.04;
      }

      draw() {
        const pulse = Math.sin(this.pulsePhase) * 0.1 + 1;
        const size = this.radius * (this.hovered ? 1.3 : 1) * pulse;

        // Outer glow
        const outerGlow = ctx.createRadialGradient(this.x, this.y, 0, this.x, this.y, size * 2);
        outerGlow.addColorStop(0, this.color + '30');
        outerGlow.addColorStop(0.5, this.color + '10');
        outerGlow.addColorStop(1, this.color + '00');
        ctx.fillStyle = outerGlow;
        ctx.beginPath();
        ctx.arc(this.x, this.y, size * 2, 0, Math.PI * 2);
        ctx.fill();

        // Inner glow
        const innerGlow = ctx.createRadialGradient(this.x, this.y, 0, this.x, this.y, size);
        innerGlow.addColorStop(0, this.color + '60');
        innerGlow.addColorStop(1, this.color + '20');
        ctx.fillStyle = innerGlow;
        ctx.beginPath();
        ctx.arc(this.x, this.y, size, 0, Math.PI * 2);
        ctx.fill();

        // Image
        ctx.save();
        ctx.beginPath();
        ctx.arc(this.x, this.y, size - 4, 0, Math.PI * 2);
        ctx.closePath();
        ctx.clip();
        
        if (this.img.complete) {
          ctx.drawImage(this.img, this.x - (size - 4), this.y - (size - 4), (size - 4) * 2, (size - 4) * 2);
        }
        
        ctx.restore();

        // Border
        ctx.strokeStyle = this.color;
        ctx.lineWidth = this.hovered ? 4 : 2;
        ctx.beginPath();
        ctx.arc(this.x, this.y, size - 2, 0, Math.PI * 2);
        ctx.stroke();

        // Highlight
        if (this.hovered) {
          ctx.strokeStyle = this.color + '80';
          ctx.lineWidth = 8;
          ctx.beginPath();
          ctx.arc(this.x, this.y, size + 4, 0, Math.PI * 2);
          ctx.stroke();
        }
      }

      isMouseOver(mx, my) {
        const dist = Math.sqrt((mx - this.x) ** 2 + (my - this.y) ** 2);
        return dist < this.radius;
      }
    }

    class DataPacket {
      constructor(x, y, targetNode, sourceNode) {
        this.x = x;
        this.y = y;
        this.targetNode = targetNode;
        this.sourceNode = sourceNode;
        this.progress = 0;
        this.speed = 0.02;
        this.size = 4;
        this.color = sourceNode.color;
      }

      update() {
        this.progress += this.speed;
        const dx = this.targetNode.x - this.sourceNode.x;
        const dy = this.targetNode.y - this.sourceNode.y;
        this.x = this.sourceNode.x + dx * this.progress;
        this.y = this.sourceNode.y + dy * this.progress;
      }

      draw() {
        const glow = ctx.createRadialGradient(this.x, this.y, 0, this.x, this.y, this.size * 3);
        glow.addColorStop(0, this.color);
        glow.addColorStop(0.5, this.color + '80');
        glow.addColorStop(1, this.color + '00');
        ctx.fillStyle = glow;
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.size * 3, 0, Math.PI * 2);
        ctx.fill();

        ctx.fillStyle = this.color;
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
        ctx.fill();
      }

      isDone() {
        return this.progress >= 1;
      }
    }

    let nodes = [];
    let dataPackets = [];
    let centerNode = null;
    let animating = true;
    let hoveredNode = null;
    let showConnections = true;

    function initNodes() {
      nodes = [];
      const centerX = width / 2;
      const centerY = height / 2;
      
      centerNode = new Node('kite ai', centerX, centerY);
      nodes.push(centerNode);

      const remainingLogos = logos.filter(l => !l.startsWith('kite ai'));
      const numRings = 3;
      const nodesPerRing = Math.ceil(remainingLogos.length / numRings);
      
      remainingLogos.forEach((logo, i) => {
        const id = logo.split('.')[0];
        const ring = Math.floor(i / nodesPerRing);
        const nodesInThisRing = Math.min(nodesPerRing, remainingLogos.length - ring * nodesPerRing);
        const angleStep = (Math.PI * 2) / nodesInThisRing;
        const angle = (i % nodesPerRing) * angleStep + (ring * 0.5);
        const radiusBase = Math.min(width, height) * 0.25;
        const radius = radiusBase + ring * radiusBase * 0.6;
        
        const x = centerX + Math.cos(angle) * radius;
        const y = centerY + Math.sin(angle) * radius;
        
        const node = new Node(id, x, y);
        nodes.push(node);
        centerNode.connections.push(node);
      });

      // Create web of connections
      for (let i = 1; i < nodes.length; i++) {
        const node = nodes[i];
        const nearbyNodes = nodes.filter((n, idx) => {
          if (idx === 0 || idx === i) return false;
          const dist = Math.sqrt((n.baseX - node.baseX) ** 2 + (n.baseY - node.baseY) ** 2);
          return dist < 280;
        });
        
        nearbyNodes.slice(0, 3).forEach(n => {
          if (!node.connections.includes(n) && node.connections.length < 4) {
            node.connections.push(n);
          }
        });
      }

      document.getElementById('projectCount').textContent = logos.length;
      let connectionCount = 0;
      nodes.forEach(n => connectionCount += n.connections.length);
      document.getElementById('connectionCount').textContent = connectionCount;
    }

    function drawConnections() {
      if (!showConnections) return;

      nodes.forEach(node => {
        node.connections.forEach(connNode => {
          const gradient = ctx.createLinearGradient(node.x, node.y, connNode.x, connNode.y);
          gradient.addColorStop(0, node.color + '40');
          gradient.addColorStop(0.5, node.color + '20');
          gradient.addColorStop(1, connNode.color + '40');
          
          ctx.strokeStyle = gradient;
          ctx.lineWidth = (node.hovered || connNode.hovered) ? 3 : 1.5;
          ctx.beginPath();
          ctx.moveTo(node.x, node.y);
          ctx.lineTo(connNode.x, connNode.y);
          ctx.stroke();

          // Spawn data packets
          if (animating && Math.random() < 0.005) {
            dataPackets.push(new DataPacket(node.x, node.y, connNode, node));
          }
        });
      });
    }

    function animate() {
      ctx.fillStyle = 'rgba(0, 0, 0, 0.15)';
      ctx.fillRect(0, 0, width, height);

      drawConnections();

      dataPackets.forEach((packet, i) => {
        packet.update();
        packet.draw();
        if (packet.isDone()) dataPackets.splice(i, 1);
      });

      nodes.forEach(node => {
        node.update();
        node.draw();
      });

      requestAnimationFrame(animate);
    }

    const tooltip = document.getElementById('tooltip');

    canvas.addEventListener('mousemove', (e) => {
      const rect = canvas.getBoundingClientRect();
      const mx = e.clientX - rect.left;
      const my = e.clientY - rect.top;

      hoveredNode = null;
      nodes.forEach(node => {
        node.hovered = node.isMouseOver(mx, my);
        if (node.hovered) {
          hoveredNode = node;
          canvas.style.cursor = 'pointer';
          
          tooltip.textContent = infoData[node.id]?.title || node.id;
          tooltip.style.left = e.clientX + 15 + 'px';
          tooltip.style.top = e.clientY + 15 + 'px';
          tooltip.style.opacity = '1';
        }
      });
      
      if (!hoveredNode) {
        canvas.style.cursor = 'default';
        tooltip.style.opacity = '0';
      }
    });

    canvas.addEventListener('click', (e) => {
      if (hoveredNode) {
        openModal(hoveredNode.id);
      }
    });

    function openModal(id) {
      const data = infoData[id];
      if (!data) return;
      
      document.getElementById('modalTitle').textContent = data.title;
      document.getElementById('modalDescription').textContent = data.description;
      document.getElementById('modalCategory').textContent = data.category;
      document.getElementById('modalLink').href = data.link;
      document.getElementById('modalIcon').src = `assets/${logos.find(l => l.startsWith(id))}`;
      document.getElementById('modalOverlay').style.display = 'block';
    }

    function closeModal() {
      document.getElementById('modalOverlay').style.display = 'none';
    }

    function toggleAnimation() {
      animating = !animating;
      document.getElementById('playIcon').textContent = animating ? '‚è∏' : '‚ñ∂';
      document.getElementById('playText').textContent = animating ? 'Pause' : 'Play';
    }

    function resetView() {
      initNodes();
      dataPackets = [];
    }

    function toggleConnections() {
      showConnections = !showConnections;
    }

    // Legend filtering
    document.querySelectorAll('.legend-item').forEach(item => {
      item.addEventListener('click', () => {
        const category = item.dataset.category;
        nodes.forEach(node => {
          if (category === 'core' && node.id === 'kite ai') {
            node.hovered = !node.hovered;
          } else if (category === 'ai' && aiProjects.includes(node.id)) {
            node.hovered = !node.hovered;
          } else if (category === 'infra' && infraProjects.includes(node.id)) {
            node.hovered = !node.hovered;
          } else if (category === 'defi' && defiProjects.includes(node.id)) {
            node.hovered = !node.hovered;
          }
        });
        
        setTimeout(() => {
          nodes.forEach(node => node.hovered = false);
        }, 2000);
      });
    });

    // Initialize
    setTimeout(() => {
      document.getElementById('loadingScreen').style.opacity = '0';
      setTimeout(() => {
        document.getElementById('loadingScreen').style.display = 'none';
      }, 500);
      initNodes();
      animate();
    }, 2000);

    window.addEventListener('resize', () => {
      width = canvas.width = window.innerWidth;
      height = canvas.height = window.innerHeight;
      initNodes();
    });
  </script>
</body>
</html>